name: Prevent HF Space Sleep

on:
  schedule:
    - cron: '0 */24 * * *'  # 最重要的部分：每6小时运行一次（可根据需要调整）
  workflow_dispatch:        # 允许手动触发

jobs:
  ping-space:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Hugging Face Space
        env:
          HF_TOKEN: ${{ secrets.HF_TOKEN }} # 你的访问令牌
          SPACE_URL: "https://huggingface.co/spaces/ic6/kk" # 你的空间地址
        run: |
          # 简单地访问你的Space首页，Token会证明你的身份
          # Hugging Face 会将该访问识别为一次有效活动，从而重置Space的休眠倒计时。
          curl -s -L -H "Authorization: Bearer $HF_TOKEN" "$SPACE_URL" > /dev/null
          echo "$(date): Pinged Space to prevent sleep."
