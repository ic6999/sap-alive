name: Prevent HF Space Sleep

on:
  schedule:
    - cron: '50 19 * * *'  # æ¯å¤©è¿è¡Œä¸€æ¬¡ï¼ˆ3:50èµ·åºŠåŽæ£€æŸ¥ðŸ§ï¼‰
  workflow_dispatch:        # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  ping-space:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Hugging Face Space
        env:
          HF_TOKEN: ${{ secrets.HF_TOKEN }} # ä½ çš„è®¿é—®ä»¤ç‰Œ
          SPACE_URL: "https://huggingface.co/spaces/ic6/kk" # ä½ çš„ç©ºé—´åœ°å€
        run: |
          # ç®€å•åœ°è®¿é—®ä½ çš„Spaceé¦–é¡µï¼ŒTokenä¼šè¯æ˜Žä½ çš„èº«ä»½
          # Hugging Face ä¼šå°†è¯¥è®¿é—®è¯†åˆ«ä¸ºä¸€æ¬¡æœ‰æ•ˆæ´»åŠ¨ï¼Œä»Žè€Œé‡ç½®Spaceçš„ä¼‘çœ å€’è®¡æ—¶ã€‚
          curl -s -L -H "Authorization: Bearer $HF_TOKEN" "$SPACE_URL" > /dev/null
          echo "$(date): Pinged Space to prevent sleep."
